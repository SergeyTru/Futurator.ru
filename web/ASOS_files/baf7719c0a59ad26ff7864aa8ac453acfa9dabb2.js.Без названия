/*! xAffiliateId 25-09-2015 */
!function(a){var b,c=function(){(this.AffIdPramaterExists()||this.AffiliateCookieExists())&&this.bindLinkAction()};c.prototype.AffIdPramaterExists=function(){var a=this.getParameterByName("affId")||this.getParameterByName("xAffId");return""!==a?(b=a,!0):!1},c.prototype.AffiliateCookieExists=function(){var a=this.getCookie("asosAffiliate");return""!==a?(b=a.split("affiliateId=")[1],!0):!1},c.prototype.bindLinkAction=function(){a(".site-suggest-bar .suggest-select-country").on("click",this.useAffiliateID.bind(this))},c.prototype.useAffiliateID=function(a){a.preventDefault();var c,d="A"!=a.target.nodeName?a.target.parentNode:a.target,e=d.href,f=this.getParameterByName("referrer","?"+e.split("?")[1]);f=-1!=e.indexOf("?")?f+"&xAffId="+b:f+"?xAffId="+b,c=this.updateQueryStringParameter(e,"referrer",encodeURIComponent(f)),window.location.href=c},c.prototype.updateQueryStringParameter=function(a,b,c){var d=new RegExp("([?&])"+b+"=.*?(&|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return a.match(d)?a.replace(d,"$1"+b+"="+c+"$2"):a+e+b+"="+c},c.prototype.getParameterByName=function(a,b){var c=b||window.location.search,d=new RegExp("[\\?&]"+a+"=([^&#]*)"),e=d.exec(c);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},c.prototype.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return""},new c(a)}(jQuery);