/*! xAffiliateId 02-07-2015 */
!function(a){var b,c=function(){this.isMasterLayout=this.checkSiteCorePages(),this.isMasterLayout||this.checkXAffIdPrameterExistence()};c.prototype.checkSiteCorePages=function(){return a("body").hasClass("served-by-sc")},c.prototype.checkXAffIdPrameterExistence=function(){var a=this.getParameterByName("xAffId");""!==a?(b=a,this.setAsosAffiliateCookie(),this.siteSelectorAddParameter()):this.checkAsosAffiliateCookieExistence()},c.prototype.checkAsosAffiliateCookieExistence=function(){var a=this.getCookie("asosAffiliate");""!==a&&(b=a.split("affiliateId=")[1],this.siteSelectorAddParameter())},c.prototype.siteSelectorAddParameter=function(){a(".site-header .site-selector-list ul, header .site-selector-list ul, footer .site-selector-list ul").find("a").each(this.createNewLinkHref)},c.prototype.createNewLinkHref=function(){var c,d=a(this)[0].href;c=-1!=d.indexOf("?")?d+"&xAffId="+b:d+"?xAffId="+b,a(this)[0].href=c},c.prototype.setAsosAffiliateCookie=function(){var a="affiliateId="+b;this.setCookie("asosAffiliate",a,30)},c.prototype.getParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(window.location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},c.prototype.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return""},c.prototype.setCookie=function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e},new c(a)}(jQuery);